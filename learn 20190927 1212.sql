--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.2.23.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 27.09.2019 12:12:33
-- Server version: 5.7.23
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE learn;

--
-- Drop procedure `search`
--
DROP PROCEDURE IF EXISTS search;

--
-- Drop table `country`
--
DROP TABLE IF EXISTS country;

--
-- Drop table `language`
--
DROP TABLE IF EXISTS language;

--
-- Drop table `location`
--
DROP TABLE IF EXISTS location;

--
-- Drop table `log`
--
DROP TABLE IF EXISTS log;

--
-- Drop table `program`
--
DROP TABLE IF EXISTS program;

--
-- Drop table `specialty`
--
DROP TABLE IF EXISTS specialty;

--
-- Drop table `university`
--
DROP TABLE IF EXISTS university;

--
-- Drop table `university_languages`
--
DROP TABLE IF EXISTS university_languages;

--
-- Drop table `university_programs`
--
DROP TABLE IF EXISTS university_programs;

--
-- Drop table `university_specialities`
--
DROP TABLE IF EXISTS university_specialities;

--
-- Drop table `university_type`
--
DROP TABLE IF EXISTS university_type;

--
-- Set default database
--
USE learn;

--
-- Create table `university_type`
--
CREATE TABLE university_type (
  id INT(11) NOT NULL AUTO_INCREMENT,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  name_ru VARCHAR(255) DEFAULT NULL,
  name_en VARCHAR(255) DEFAULT NULL,
  name_kk VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 3276,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `university_specialities`
--
CREATE TABLE university_specialities (
  id INT(11) NOT NULL AUTO_INCREMENT,
  university_id INT(11) DEFAULT NULL,
  specialty_id INT(11) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 30,
AVG_ROW_LENGTH = 682,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `university_programs`
--
CREATE TABLE university_programs (
  id INT(11) NOT NULL AUTO_INCREMENT,
  university_id INT(11) DEFAULT NULL,
  program_id INT(11) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 25,
AVG_ROW_LENGTH = 682,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `university_languages`
--
CREATE TABLE university_languages (
  id INT(11) NOT NULL AUTO_INCREMENT,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  language_id INT(11) DEFAULT NULL,
  university_id INT(11) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 127,
AVG_ROW_LENGTH = 390,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `university`
--
CREATE TABLE university (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name_ru VARCHAR(1000) DEFAULT NULL,
  name_en VARCHAR(1000) DEFAULT NULL,
  name_kk VARCHAR(1000) DEFAULT NULL,
  country_id INT(11) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  found DATE DEFAULT NULL,
  type_id INT(11) DEFAULT NULL,
  location_id INT(11) DEFAULT NULL,
  url VARCHAR(1000) DEFAULT NULL,
  url_pic VARCHAR(1000) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 43,
AVG_ROW_LENGTH = 390,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `specialty`
--
CREATE TABLE specialty (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name_ru VARCHAR(255) DEFAULT NULL,
  name_en VARCHAR(255) DEFAULT NULL,
  name_kk VARCHAR(255) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 14,
AVG_ROW_LENGTH = 1170,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `program`
--
CREATE TABLE program (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name_ru VARCHAR(1000) DEFAULT NULL,
  name_en VARCHAR(1000) DEFAULT NULL,
  name_kk VARCHAR(1000) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 9,
AVG_ROW_LENGTH = 2048,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `log`
--
CREATE TABLE log (
  id INT(11) NOT NULL AUTO_INCREMENT,
  msg VARCHAR(2000) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 26,
AVG_ROW_LENGTH = 1966,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `location`
--
CREATE TABLE location (
  id INT(11) NOT NULL AUTO_INCREMENT,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  name_ru VARCHAR(255) DEFAULT NULL,
  name_en VARCHAR(255) DEFAULT NULL,
  name_kk VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 21,
AVG_ROW_LENGTH = 819,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `language`
--
CREATE TABLE language (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name_ru VARCHAR(50) DEFAULT NULL,
  name_en VARCHAR(255) DEFAULT NULL,
  name_kk VARCHAR(255) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

--
-- Create table `country`
--
CREATE TABLE country (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name_ru VARCHAR(255) DEFAULT NULL,
  name_en VARCHAR(255) DEFAULT NULL,
  name_kk VARCHAR(255) DEFAULT NULL,
  created TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  modified TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 15,
AVG_ROW_LENGTH = 1170,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

DELIMITER $$

--
-- Create procedure `search`
--
CREATE PROCEDURE search(IN countryId INT, IN programId INT, IN specialtyId INT, IN languageId INT)
  SQL SECURITY INVOKER
BEGIN
  set @q = 'select u.id, u.name_en \'name\', u.found, ut.name_ru \'type\', lc.name_ru \'location\', u.url, u.url_pic,
     (select GROUP_CONCAT(ll.name_ru SEPARATOR \', \') from university_languages ul 
          join language ll on ll.id = ul.language_id 
      where ul.university_id = u.id 
         group by ul.university_id) \'languages\', 
    (select GROUP_CONCAT(pp.name_ru SEPARATOR \', \') from university_programs up1 
          join program pp on pp.id = up1.program_id 
     where up1.university_id = u.id 
        group by up1.university_id) \'programs\' 
  from university u 
    join location lc on lc.id = u.location_id 
    join university_type ut on ut.id = u.type_id';
  if countryId <> 0 then
    set @q = concat(@q, ' ', 'where u.country_id = ', countryId);
  end if;
  if programId <> 0 then
    if countryId = 0 then
      set @q = concat(@q, ' ', 'where');
    else
       set @q = concat(@q, ' ', 'and');
    end if;
    set @q = concat(@q, ' ', 'EXISTS (
      select * from university_programs up 
      where 
        up.university_id = u.id 
        and up.program_id = ', programId, ')');
  end if;
  if specialtyId <> 0 then
    if countryId = 0 and programId = 0 then
      set @q = concat(@q, ' ', 'where');
    end if;
    if countryId <> 0 or programId <> 0 then
      set @q = concat(@q, ' ', 'and');
    end if;
    set @q = concat(@q, ' ', 'exists (
      select * from university_specialities us
      WHERE 
        us.university_id = u.id
        and us.specialty_id = ', specialtyId ,')');
  end if;
  if languageId <> 0 then
    if countryId = 0 and programId = 0 and specialtyId = 0 then
      set @q = concat(@q, ' ', 'where');
    end if;
    if countryId <> 0 or programId <> 0 or specialtyId <> 0 then
      set @q = concat(@q, ' ', 'and');
    end if;
    set @q = concat(@q, ' ', 'exists (
      select * from university_languages ul
      WHERE 
        ul.university_id = u.id
        and ul.language_id = ', languageId ,')');
  end if;
  set @q = concat(@q, ' ', 'order by u.name_en asc;');
INSERT INTO log (msg)
  VALUES (@q);
  PREPARE dynamic_statement FROM @q;
  EXECUTE dynamic_statement;
  DEALLOCATE PREPARE dynamic_statement;
END
$$

DELIMITER ;

-- 
-- Dumping data for table university_type
--
INSERT INTO university_type VALUES
(1, '2019-09-25 11:17:49', '2019-09-25 11:17:49', 'государственный', NULL, NULL),
(2, '2019-09-25 11:18:03', '2019-09-25 11:18:03', 'частный', NULL, NULL),
(3, '2019-09-25 11:18:17', '2019-09-25 11:18:17', 'независимый', NULL, NULL),
(4, '2019-09-25 11:18:27', '2019-09-25 11:18:27', 'общеобразовательный колледж', NULL, NULL),
(5, '2019-09-25 11:18:39', '2019-09-25 11:18:39', 'языковая школа', NULL, NULL);

-- 
-- Dumping data for table university_specialities
--
INSERT INTO university_specialities VALUES
(25, 1, 1, '2019-09-27 11:20:54', '2019-09-27 11:20:54'),
(26, 1, 2, '2019-09-27 11:21:16', '2019-09-27 11:21:16'),
(27, 2, 1, '2019-09-27 11:21:21', '2019-09-27 11:21:21'),
(28, 2, 2, '2019-09-27 11:21:23', '2019-09-27 11:21:23'),
(29, 2, 3, '2019-09-27 11:21:30', '2019-09-27 11:21:30');

-- 
-- Dumping data for table university_programs
--
INSERT INTO university_programs VALUES
(1, 3, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(2, 9, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(3, 33, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(4, 15, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(5, 1, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(6, 21, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(7, 18, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(8, 13, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(9, 23, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(10, 10, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(11, 12, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(12, 31, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(13, 32, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(14, 14, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(15, 3, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(16, 28, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(17, 7, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(18, 16, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(19, 17, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(20, 39, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(21, 38, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(22, 4, 1, '2019-09-13 10:13:41', '2019-09-26 08:42:09'),
(23, 40, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41'),
(24, 29, 2, '2019-09-13 10:13:41', '2019-09-13 10:13:41');

-- 
-- Dumping data for table university_languages
--
INSERT INTO university_languages VALUES
(1, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 1),
(2, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 2),
(3, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 3),
(4, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 4),
(5, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 5),
(6, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 6),
(7, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 7),
(8, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 8),
(9, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 9),
(10, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 10),
(11, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 11),
(12, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 12),
(13, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 13),
(14, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 14),
(15, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 15),
(16, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 16),
(17, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 17),
(18, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 18),
(19, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 19),
(20, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 20),
(21, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 21),
(22, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 22),
(23, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 23),
(24, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 24),
(25, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 25),
(26, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 26),
(27, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 27),
(28, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 28),
(29, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 29),
(30, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 30),
(31, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 31),
(32, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 32),
(33, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 33),
(34, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 34),
(35, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 35),
(36, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 36),
(37, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 37),
(38, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 38),
(39, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 39),
(40, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 40),
(41, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 41),
(42, '2019-09-25 12:20:52', '2019-09-25 12:20:52', 4, 42);

-- 
-- Dumping data for table university
--
INSERT INTO university VALUES
(1, NULL, 'Algonquin College', NULL, 1, '2019-09-13 09:43:31', '2019-09-25 11:58:31', '1967-01-01', 1, 1, NULL, 'https://globusedu.kz/wp-content/uploads/2018/05/Conestoga-International-College.jpg'),
(2, NULL, 'Bodwell High School & College            ', NULL, 1, '2019-09-13 09:43:31', '2019-09-25 12:02:05', '1991-01-01', 2, 3, 'https://globusedu.kz/canada/bodwell-college-high-school/', 'https://globusedu.kz/wp-content/uploads/2018/05/Conestoga-International-College.jpg'),
(3, NULL, 'Brock University', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(4, NULL, 'Burnaby School District                      ', NULL, 1, '2019-09-13 09:43:31', '2019-09-25 12:03:05', '1906-01-01', 1, 5, 'https://globusedu.kz/burnaby-school-district/', 'https://globusedu.kz/wp-content/uploads/2018/05/Conestoga-International-College.jpg'),
(5, NULL, 'Braemar College                                                  ', NULL, 1, '2019-09-13 09:43:31', '2019-09-26 08:41:59', '1995-01-01', 2, 6, 'https://globusedu.kz/braemar-college/', 'https://globusedu.kz/wp-content/uploads/2018/05/Conestoga-International-College.jpg'),
(6, NULL, 'Branksome Hall', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(7, NULL, 'Columbia College                               ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(8, NULL, 'Columbia International College            ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(9, NULL, 'Centennial College                             ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(10, NULL, 'Conestoga International College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(11, NULL, 'Centre for Arts and Technology International Study Centre', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(12, NULL, 'Capilano College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(13, NULL, 'Douglas College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(14, NULL, 'Durham College  ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(15, NULL, 'Fanshawe College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(16, NULL, 'Fraser International College (FIC)', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(17, NULL, 'Simon Fraser University', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 10:04:17', NULL, NULL, NULL, NULL, NULL),
(18, NULL, 'George Brown College                         ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(19, NULL, 'Global Village English Centres', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(20, NULL, 'International Language Academy of Canada (ILAC)', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(21, NULL, 'Humber College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(22, NULL, 'Lakefield College School', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(23, NULL, 'Niagara College                                  ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(24, NULL, 'Pickering College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(25, NULL, 'Royal Roads University', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(26, NULL, 'Rutherford Canadian School                       ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(27, NULL, 'SAIT Polytechnic', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(28, NULL, 'St.Lawrence College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(29, NULL, 'Seneca College                                  ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(30, NULL, 'Stenberg College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(31, NULL, 'Sheridan College', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(32, NULL, 'Thompson Rivers University                 ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(33, NULL, 'Trent University', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(34, NULL, 'Trinity College School', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(35, NULL, 'University of Victoria', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(36, NULL, 'University of Guelph', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(37, NULL, 'University of British Columbia (UBC)', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 10:05:48', NULL, NULL, NULL, NULL, NULL),
(38, NULL, 'University of Manitoba', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(39, NULL, 'International College of Manitoba (ICM)', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(40, NULL, 'University of Toronto', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(41, NULL, 'UBC Vantage College                           ', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL),
(42, NULL, 'Vancouver Film Academy', NULL, 1, '2019-09-13 09:43:31', '2019-09-13 09:43:31', NULL, NULL, NULL, NULL, NULL);

-- 
-- Dumping data for table specialty
--
INSERT INTO specialty VALUES
(1, 'Архитектура и строительство', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(2, 'Естественные науки', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(3, 'Искусство и дизайн', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(4, 'Социальные или общественные науки', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(5, 'Медицина и здоровье', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(6, 'Инженеринг', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(7, 'Бизнес и управление', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(8, 'Компьютерная наука и программирование', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(9, 'Туризм и гостиничное дело', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(10, 'Гуманитарные науки', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(11, 'Педагогика', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(12, 'Право', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20'),
(13, 'Авиация', NULL, NULL, '2019-09-12 17:02:20', '2019-09-12 17:02:20');

-- 
-- Dumping data for table program
--
INSERT INTO program VALUES
(1, 'среднее образование', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(2, 'бакалавриат (BA & Diploma)', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(3, 'Магистратура и PhD', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(4, 'подготовка к бакалавриату', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(5, 'подготовка к магистратуре', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(6, 'языковые курсы', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(7, 'каникулярные программы', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04'),
(8, 'академический английский язык', NULL, NULL, '2019-09-13 10:56:04', '2019-09-13 10:56:04');

-- 
-- Dumping data for table log
--
INSERT INTO log VALUES
(1, '1, 2, 4', '2019-09-25 15:37:58'),
(2, 'select * from country', '2019-09-27 09:45:05'),
(3, 'select * from country\r\n    where id = 1', '2019-09-27 09:45:32'),
(4, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id =  and EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = ) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = ) order by u.name_en asc;', '2019-09-27 10:02:20'),
(5, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = 2) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:05:36'),
(6, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:05:56'),
(7, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:15:25'),
(8, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:19:43'),
(9, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = 2) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:19:54'),
(10, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:20:01'),
(11, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:20:09'),
(12, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 order by u.name_en asc;', '2019-09-27 10:20:14'),
(13, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 3) order by u.name_en asc;', '2019-09-27 10:20:21'),
(14, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 10:20:25'),
(15, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:25:58'),
(16, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:26:08'),
(17, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:27:49'),
(18, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and EXISTS (\r\n      select * from university_programs up \r\n      where \r\n        up.university_id = u.id \r\n        and up.program_id = 1) and exists (\r\n      select * from university_specialities us\r\n      WHERE \r\n        us.university_id = u.id\r\n        and us.specialty_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:28:38'),
(19, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_specialities us\r\n      WHERE \r\n        us.university_id = u.id\r\n        and us.specialty_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:29:17'),
(20, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:57:14'),
(21, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:57:23'),
(22, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:58:18'),
(23, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_specialities us\r\n      WHERE \r\n        us.university_id = u.id\r\n        and us.specialty_id = 13) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:58:27'),
(24, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_specialities us\r\n      WHERE \r\n        us.university_id = u.id\r\n        and us.specialty_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:58:41'),
(25, 'select u.id, u.name_en ''name'', u.found, ut.name_ru ''type'', lc.name_ru ''location'', u.url, u.url_pic,\r\n     (select GROUP_CONCAT(ll.name_ru SEPARATOR '', '') from university_languages ul \r\n          join language ll on ll.id = ul.language_id \r\n      where ul.university_id = u.id \r\n         group by ul.university_id) ''languages'', \r\n    (select GROUP_CONCAT(pp.name_ru SEPARATOR '', '') from university_programs up1 \r\n          join program pp on pp.id = up1.program_id \r\n     where up1.university_id = u.id \r\n        group by up1.university_id) ''programs'' \r\n  from university u \r\n    join location lc on lc.id = u.location_id \r\n    join university_type ut on ut.id = u.type_id where u.country_id = 1 and exists (\r\n      select * from university_specialities us\r\n      WHERE \r\n        us.university_id = u.id\r\n        and us.specialty_id = 1) and exists (\r\n      select * from university_languages ul\r\n      WHERE \r\n        ul.university_id = u.id\r\n        and ul.language_id = 4) order by u.name_en asc;', '2019-09-27 11:59:18');

-- 
-- Dumping data for table location
--
INSERT INTO location VALUES
(1, '2019-09-25 11:36:59', '2019-09-25 12:31:17', 'г. Оттава, Канада', NULL, NULL),
(2, '2019-09-25 11:37:10', '2019-09-25 12:31:17', 'г. Бернаби и г. Ванкувер (Канада)', NULL, NULL),
(3, '2019-09-25 11:37:24', '2019-09-25 12:31:17', 'г. Ванкувер (Канада)', NULL, NULL),
(4, '2019-09-25 11:37:40', '2019-09-25 12:31:17', 'г. Сент-Катаринс провинции Онтарио (Канада)', NULL, NULL),
(5, '2019-09-25 00:00:00', '2019-09-25 12:31:17', 'г. Бёрнаби (Канада)', NULL, NULL),
(6, '2019-09-25 11:38:08', '2019-09-25 12:31:17', 'г. Торонто, Канада', NULL, NULL),
(7, '2019-09-25 11:38:27', '2019-09-25 12:31:17', 'г. Гамильтон (Канада)', NULL, NULL),
(8, '2019-09-25 11:38:47', '2019-09-25 12:31:17', 'г. Китченер (Канада)', NULL, NULL),
(9, '2019-09-25 11:38:57', '2019-09-25 12:31:17', 'г. Ошава (Канада)', NULL, NULL),
(10, '2019-09-25 11:39:04', '2019-09-25 12:31:17', 'г. Лондон (Канада)', NULL, NULL),
(11, '2019-09-25 11:39:13', '2019-09-25 12:31:17', 'г. Ванкувер, г. Виктория, г. Калгари  (Канада)', NULL, NULL),
(12, '2019-09-25 11:39:34', '2019-09-25 12:31:17', 'г. Торонто и г. Ванкувер (Канада)', NULL, NULL),
(13, '2019-09-25 11:39:43', '2019-09-25 12:31:17', 'г. Лейкфилд (Канада)', NULL, NULL),
(14, '2019-09-25 11:39:52', '2019-09-25 11:39:52', 'провинция Онтарио (Канада)', NULL, NULL),
(15, '2019-09-25 00:00:00', '2019-09-25 12:31:17', 'г. Ньюмаркет (Канада)', NULL, NULL),
(16, '2019-09-25 11:40:15', '2019-09-25 12:31:17', 'г. Виктория (Канада)', NULL, NULL),
(17, '2019-09-25 11:40:40', '2019-09-25 12:31:17', 'г. Калгари  (Канада)', NULL, NULL),
(18, '2019-09-25 11:40:55', '2019-09-25 12:31:17', 'г. Камлупс (Канада)', NULL, NULL),
(19, '2019-09-25 11:41:02', '2019-09-25 12:31:17', 'г. Питерборо (Канада)', NULL, NULL),
(20, '2019-09-25 11:41:08', '2019-09-25 12:31:17', 'г. Порт-Хоуп (Канада)', NULL, NULL);

-- 
-- Dumping data for table language
--
INSERT INTO language VALUES
(1, 'французский', NULL, NULL, '2019-09-12 16:53:40', '2019-09-12 16:53:40'),
(2, 'немецкий', NULL, NULL, '2019-09-12 16:53:40', '2019-09-12 16:53:40'),
(3, 'испанский', NULL, NULL, '2019-09-12 16:53:40', '2019-09-12 16:53:40'),
(4, 'английский', NULL, NULL, '2019-09-25 12:09:20', '2019-09-25 12:09:20');

-- 
-- Dumping data for table country
--
INSERT INTO country VALUES
(1, 'Канада', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(2, 'Франция', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(3, 'Нидерланды', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(4, 'Великобритания', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(5, 'США', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(6, 'Новая зеландия', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(7, 'Ирландия', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(8, 'Турция', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(9, 'Сингапур', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(10, 'Малайзия', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(11, 'ОАЭ', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(12, 'Республика Корея', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(13, 'Швейцария', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08'),
(14, 'Австралия', NULL, NULL, '2019-09-12 16:57:08', '2019-09-12 16:57:08');

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;